<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~  Copyright (c) 2017, University of Dayton
  ~
  ~  Licensed under the Educational Community License, Version 2.0 (the "License");
  ~  you may not use this file except in compliance with the License.
  ~  You may obtain a copy of the License at
  ~
  ~              http://opensource.org/licenses/ecl2
  ~
  ~  Unless required by applicable law or agreed to in writing, software
  ~  distributed under the License is distributed on an "AS IS" BASIS,
  ~  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~  See the License for the specific language governing permissions and
  ~  limitations under the License.
  -->

<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans xmlns="http://www.springframework.org/schema/beans"
	   xmlns:context="http://www.springframework.org/schema/context"
	   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	   xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd
                           http://www.springframework.org/schema/context
                           http://www.springframework.org/schema/context/spring-context.xsd">

	<!-- Enable annotation-based dependency injection -->
	<context:annotation-config />

	<!-- Component scan for the Rollcall package -->
	<context:component-scan base-package="org.sakaiproject.rollcall" />

	<!-- SakaiProxy Bean -->
	<bean id="org.sakaiproject.rollcall.logic.SakaiProxy"
		  class="org.sakaiproject.rollcall.logic.SakaiProxyImpl"
		  init-method="init">
		<property name="securityService" ref="org.sakaiproject.authz.api.SecurityService" />
		<property name="sessionManager" ref="org.sakaiproject.tool.api.SessionManager" />
		<property name="toolManager" ref="org.sakaiproject.tool.api.ToolManager" />
		<property name="userDirectoryService" ref="org.sakaiproject.user.api.UserDirectoryService" />
		<property name="serverConfigurationService" ref="org.sakaiproject.component.api.ServerConfigurationService" />
	</bean>

	<!-- RollcallLogic Bean -->
	<bean id="org.sakaiproject.rollcall.logic.RollcallLogic"
		  class="org.sakaiproject.rollcall.logic.RollcallLogicImpl"
		  init-method="init">
		<property name="sakaiProxy" ref="org.sakaiproject.rollcall.logic.SakaiProxy" />
	</bean>

	<!-- RollcallService Bean -->
	<bean id="org.sakaiproject.rollcall.api.RollcallService"
		  class="org.sakaiproject.rollcall.impl.RollcallServiceImpl"
		  init-method="init">
		<property name="logic" ref="org.sakaiproject.rollcall.logic.RollcallLogic" />
	</bean>
</beans>
